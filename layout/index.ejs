<%# include("head.ejs") %>
<% 

const recommendPosts = []
site.posts.forEach(post => {
    if (post.top) {
        recommendPosts.push(post)
        return
    }
})

const bannerInfo = recommendPosts.map(v=>{
    return {
        date: date(v.date, theme.dateFormat),
        tags: v.tags.data.map(a=>{return {name: a.name, path: fillPath(a.path)}}),
        path: fillPath(v.path),
    }
})
%>
<%- partial('head', {jsVar: {bannerInfo}}, {cache: true}) %>

<header>
    <%- include("header/header-big.ejs") %> 
    <%- partial('partial/banner', {posts: recommendPosts}) %> 
</header>

<main id="main">

</main>

<%-include("foot.ejs")%>